<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="/images/delicious.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="/images/handtop.png">
  <meta property="og:title" content="Visual Catalogs" />
  <meta property="og:url" content="https://groceryblocks.com" />
  <meta property="og:site_name" content="Handtop" />
  <meta property="og:image" content="https://groceryblocks.com/info/pipeline.png" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="Visual Catalog creation and hosting." />
  <meta property="fb:app_id" content="461141618064403" />
  <meta name="description" content='Visual Catalog creation and hosting.'>

  <style>
    * {
      box-sizing: border-box;
      font-size: 1em;
    }

    h3 {
      font-size: 1.5em;
    }

    select {
      border-width: .25em;
      border-radius: .5em;
      padding: .15em;
      border: outset .1em silver;
      font-size: 1.25em;
    }

    html,
    body {
      overflow: hidden;
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .wrapper {
      width: 100vw;
      height: 100vh;
      flex-direction: row;
      position: relative;
      background-color: #fff2ccff;
      transition: background-color 800ms;
    }

    .option_panel {
      flex: 1;
      text-align: center;
      background: silver;
      border-radius: 15%;
      display: flex;
      flex-direction: column;
      margin: .25em;
      width: 200px;
      height: 200px;
      position: absolute;
      transition: all 800ms ease-in-out;
      border: .5em double rgba(225, 255, 255, .5);
      z-index: 100;
      cursor: pointer;
    }

    .option_panel>div {
      flex: 1;
    }

    .option_1_panel {
      background: #fff2ccff;
      top: .25em;
      left: .25em;
    }

    .option_2_panel {
      background: #d9ead3ff;
      top: .25em;
      left: calc(100% - 200px - .75em);
    }

    .option_2_panel div:nth-child(2) {
      transform: rotate(90deg);
    }

    .option_3_panel {
      background: rgb(220, 220, 220);
      top: calc(100% - 200px - .75em);
      left: calc(100% - 200px - .75em);
    }

    .option_3_panel div:nth-child(2) {
      transform: rotate(-180deg);
    }

    .option_4_panel {
      background: #c9daf8ff;
      top: calc(100% - 200px - .75em);
      left: .25em;
    }

    .option_4_panel div:nth-child(2) {
      transform: rotate(270deg);
    }


    .video_panel {
      margin: 0;
      width: 100%;
      height: 100%;
      background: transparent;
    }

    .video_panel_fill {
      margin: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      width: auto;
      height: auto;
      position: absolute;
      top: 50%;
      left: 50%;
      min-height: 100%;
      min-width: 100%;
      transform: translate(-50%, -50%);
    }

    .selected_option {}

    .button_panel_flex_row .button_panel {
      flex-direction: row;
    }

    .wrapper.position_1 {
      background-color: #fff2ccff;
    }

    .wrapper.position_1 .ninebysixteen {
      opacity: 1;
    }

    .wrapper.position_1 .option_1_panel {
      border-color: rgba(255, 255, 255, 0);
    }

    .wrapper.position_2 {
      background-color: #d9ead3ff;
    }

    .wrapper.position_2 .ninebysixteen {
      opacity: 1;
    }

    .wrapper.position_2 .option_1_panel {
      top: calc(100% - 200px - .75em);
      transform: rotate(270deg);
    }

    .wrapper.position_2 .option_2_panel {
      left: .25em;
      transform: rotate(270deg);
      border-color: rgba(255, 255, 255, 0);
    }

    .wrapper.position_2 .option_3_panel {
      top: .25em;
      transform: rotate(270deg);
    }

    .wrapper.position_2 .option_4_panel {
      left: calc(100% - 200px - .75em);
      transform: rotate(270deg);
    }

    .wrapper.position_4 {
      background-color: #c9daf8ff;
    }

    .wrapper.position_4 .sixteenbynine {
      opacity: 1;
    }

    .wrapper.position_4 .option_1_panel {
      left: calc(100% - 200px - .75em);
      transform: rotate(810deg);
    }

    .wrapper.position_4 .option_2_panel {
      left: calc(100% - 200px - .75em);
      top: calc(100% - 200px - .75em);
      transform: rotate(810deg);
    }

    .wrapper.position_4 .option_3_panel {
      left: .25em;
      transform: rotate(810deg);
    }

    .wrapper.position_4 .option_4_panel {
      left: .25em;
      top: .25em;
      transform: rotate(810deg);
      border-color: rgba(255, 255, 255, 0);
    }

    .wrapper.position_3 {
      background-color: rgb(220, 220, 220);
    }

    .wrapper.position_3 .sixteenbynine {
      opacity: 1;
    }

    .wrapper.position_3 .option_1_panel {
      left: calc(100% - 200px - .75em);
      top: calc(100% - 200px - .75em);
      transform: rotate(540deg);
    }

    .wrapper.position_3 .option_2_panel {
      top: calc(100% - 200px - .75em);
      left: .25em;
      transform: rotate(540deg);
    }

    .wrapper.position_3 .option_3_panel {
      border-color: rgba(255, 255, 255, 0);
      left: .25em;
      top: .25em;
      transform: rotate(540deg);
    }

    .wrapper.position_3 .option_4_panel {
      left: calc(100% - 200px - .75em);
      top: .25em;
      transform: rotate(540deg);
    }

    .nav_buttons {
      position: absolute;
      top: .25em;
      left: 50%;
      transform: translate(-50%, 0);
      z-index: 1000;
    }

    .open_demo_link,
    .next_button,
    .info_button,
    .prev_button,
    .stretch_video {
      color: black;
      padding: .5em;
      background: rgba(255, 255, 255, .4);
      border: none;
      cursor: pointer;
    }

    .open_demo_link, .info_button {
      padding-top: 1em;
      position: relative;
    }

    .open_demo_link {
      text-decoration: none;
    }

    .open_demo_link span {
      position: relative;
      top: -.35em;
    }

    .progress_bar {
      position: absolute;
      width: 0%;
      height: 100%;
      background: rgba(0, 255, 0, .3);
      transition: width 15s linear;
      z-index: -1;
    }

    .progress_bar_transition {
      width: 100%;
    }
  </style>
</head>

<body>
  <div class="wrapper position_1">

    <video class="video_panel" loop muted autoplay src="https://hcwebflow.s3-us-west-2.amazonaws.com/videos/ninebysixteen.mp4">
    </video>
    <div class="nav_buttons">
      <div class="progress_bar"></div>
      <button class="prev_button"><i class="material-icons">keyboard_arrow_left</i></button>
      <a href="jkl" target="_blank" class="open_demo_link"><span>Open</span><i class="material-icons">open_in_new</i></a>
      <button class="stretch_video"><i class="material-icons">aspect_ratio</i></button>
      <a href="/info" target="_blank" class="info_button"><i class="material-icons">info</i></a>
      <button class="next_button"><i class="material-icons">keyboard_arrow_right</i></button>
    </div>
    <div class="option_1_panel option_panel selected_option">
      <div></div>
      <div> <b>Mobile Portrait</b><br>
        low bandwidth, low poly<br>
        Orientation Camera (360ยบ)<br>
        9 x 16 display target<br>
      </div>
      <div></div>
    </div>
    <div class="option_2_panel option_panel">
      <div></div>
      <div>
        <b>Mobile Landscape</b><br>
        high bandwidth<br>
        Orientation Camera<br>
        16 x 9 display target<br>
        Music driven background animation<br>
      </div>
      <div></div>
    </div>

    <div class="option_3_panel option_panel">
      <div></div>
      <div> <b>Mobile (low bandwidth, high poly)</b><br>
        Orientation Camera (45ยบ)<br>
        9 x 16 display target<br>
      </div>
      <div></div>
    </div>
    <div class="option_4_panel option_panel">
      <div></div>
      <div> <b>Console</b><br>
        Follow Camera<br>
        16 x 9 HD quality display target<br>
        Music driven background animation<br>
      </div>
      <div></div>
    </div>
  </div>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script>
    let video_panel = document.querySelector('.video_panel');
    let wrapper_panel = document.querySelector('.wrapper');
    let open_demo_link = document.querySelector('.open_demo_link');
    let next_button = document.querySelector('.next_button');
    let prev_button = document.querySelector('.prev_button');
    let open_demo_label = document.querySelector('.open_demo_link span');
    let progress_bar = document.querySelector('.progress_bar');
    let stretch_video = document.querySelector('.stretch_video');
    let progressTimeout = null;

    let position = 1;

    let position_data = [{
      video: "https://hcwebflow.s3-us-west-2.amazonaws.com/videos/ninebysixteen.mp4",
      url: '/display?wid=-M5nQBSpIJunfJLgrs1S&uiOverlay=mobile_orientation',
      label: 'One (portrait)'
    }, {
      video: "https://hcwebflow.s3-us-west-2.amazonaws.com/videos/runthru.mp4",
      url: '/display?wid=-M5SQqjBktAwKspIIc1F&uiOverlay=mobile_orientation',
      label: 'Two (landscape)'
    }, {
      video: "https://hcwebflow.s3-us-west-2.amazonaws.com/videos/ninebysixteen.mp4",
      url: '/display?wid=-M5nQBSpIJunfJLgrs1S&uiOverlay=mobile_orientation',
      label: 'Three (portrait)'

    }, {
      video: "https://hcwebflow.s3-us-west-2.amazonaws.com/videos/runthru.mp4",
      url: '/display?wid=-M5SQqjBktAwKspIIc1F&uiOverlay=console_follow',
      label: 'Four (landscape)'
    }];

    function resetProgressBar() {
      progress_bar.classList.remove('progress_bar_transition');
      progress_bar.style.transition = 'none';
      progress_bar.getBoundingClientRect();
      progress_bar.style.transition = '';
      progress_bar.classList.add('progress_bar_transition');

      window.clearTimeout(progressTimeout);
      progressTimeout = window.setTimeout(() => {
        next_button.click();
      }, 15000);
    }

    window.addEventListener('load', () => {
      document.querySelector('.option_1_panel').addEventListener('click', e => {
        let lst = document.querySelectorAll('.selected_option');
        lst.forEach(ctl => ctl.classList.remove('selected_option'));
        e.target.classList.add('selected_option');
        wrapper_panel.classList.remove('button_panel_flex_row');
        wrapper_panel.classList.add('position_1');
        wrapper_panel.classList.remove('position_2');
        wrapper_panel.classList.remove('position_3');
        wrapper_panel.classList.remove('position_4');
        position = 1;
        video_panel.setAttribute('src', position_data[position - 1].video);
        //open_demo_label.innerHTML = position_data[position - 1].label;
        open_demo_link.setAttribute('href', position_data[position - 1].url);
        resetProgressBar();
      });
      document.querySelector('.option_2_panel').addEventListener('click', e => {
        let lst = document.querySelectorAll('.selected_option');
        lst.forEach(ctl => ctl.classList.remove('selected_option'));
        e.target.classList.add('selected_option');
        wrapper_panel.classList.remove('button_panel_flex_row');
        wrapper_panel.classList.add('position_2');
        wrapper_panel.classList.remove('position_1');
        wrapper_panel.classList.remove('position_3');
        wrapper_panel.classList.remove('position_4');

        position = 2;
        video_panel.setAttribute('src', position_data[position - 1].video);
        //open_demo_label.innerHTML = position_data[position - 1].label;
        open_demo_link.setAttribute('href', position_data[position - 1].url);
        resetProgressBar();
      });
      document.querySelector('.option_3_panel').addEventListener('click', e => {
        let lst = document.querySelectorAll('.selected_option');
        lst.forEach(ctl => ctl.classList.remove('selected_option'));
        e.target.classList.add('selected_option');
        wrapper_panel.classList.add('button_panel_flex_row');
        wrapper_panel.classList.add('position_3');
        wrapper_panel.classList.remove('position_1');
        wrapper_panel.classList.remove('position_2');
        wrapper_panel.classList.remove('position_4');

        position = 3;
        video_panel.setAttribute('src', position_data[position - 1].video);
        //open_demo_label.innerHTML = position_data[position - 1].label;
        open_demo_link.setAttribute('href', position_data[position - 1].url);
        resetProgressBar();
      });
      document.querySelector('.option_4_panel').addEventListener('click', e => {
        let lst = document.querySelectorAll('.selected_option');
        lst.forEach(ctl => ctl.classList.remove('selected_option'));
        e.target.classList.add('selected_option');
        wrapper_panel.classList.add('button_panel_flex_row');
        wrapper_panel.classList.add('position_4');
        wrapper_panel.classList.remove('position_1');
        wrapper_panel.classList.remove('position_2');
        wrapper_panel.classList.remove('position_3');

        position = 4;
        video_panel.setAttribute('src', position_data[position - 1].video);
        //open_demo_label.innerHTML = position_data[position - 1].label;
        open_demo_link.setAttribute('href', position_data[position - 1].url);
        resetProgressBar();
      });

      document.querySelector('.option_1_panel').click();
      prev_button.addEventListener('click', e => {
        if (position === 4)
          position = 1;
        else
          position++;

        document.querySelector('.option_' + position.toString() + '_panel').click();
      });

      next_button.addEventListener('click', e => {
        if (position === 1)
          position = 4;
        else
          position--;

        document.querySelector('.option_' + position.toString() + '_panel').click();
      });

      stretch_video.addEventListener('click', e => {
        if (stretch_video.alreadyStretched) {
          video_panel.classList.remove('video_panel_fill');
          stretch_video.style.background = '';
          stretch_video.alreadyStretched = false;
        } else {
          video_panel.classList.add('video_panel_fill');
          stretch_video.style.background = 'rgba(0,0,0,.4)';
          stretch_video.alreadyStretched = true;
        }
      });
    });
  </script>
</body>

</html>
